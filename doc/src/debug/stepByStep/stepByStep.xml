<?xml version="1.0" encoding="utf-8"?>

<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="StepByStep">

	<info><title>Step by step mode</title></info>

	<section>
    <figure xml:id="StepByStepFigure"><info><title>step by step preview</title></info>
       <mediaobject>
         <imageobject>
             <imagedata scalefit="1" width="100%" contentdepth="100%" fileref="debug/stepByStep/images/all.png" format="PNG"/>
         </imageobject>
       </mediaobject>
    </figure>
	</section>

	<section><info><title>Breakpoints Overview</title></info>

	  <para>
		The <emphasis role="bold">step by step</emphasis> mode allows to control the execution of an active object at service level.
		There are several types of breakpoints localized at different steps of the execution of a service.
		This breakpoints are used to stop (when it is enabled) and restart (when it is disabled) the execution of the active object.
	  </para>

	  <section xml:id="StandardBreakpoints"><info><title>standard breakpoints</title></info>

		  <para>
			The standard breakpoints are localized inside the service thread of an active object.
			These breakpoints do not block the other threads (like immediate services, JMX, ...).
			There are 3 points:
		  </para>

			<itemizedlist>
			    <listitem>
			      <para>
				<emphasis role="bold">New service: </emphasis>
				This breakpoint is localized before the beginning of the service.
				The service do not start while the breakpoint is enabled.
			      </para>
			      <para>
				Enabled by default.
			      </para>
			    </listitem>

			    <listitem>
			      <para>
				<emphasis role="bold">End service: </emphasis>
				This breakpoint is localized after the ending of the service.
				The service is finished yet and no other services can start while the breakpoint is enabled.
			      </para>
				<para>
				Enabled by default.
			      </para>
			    </listitem>

			    <listitem>
			      <para>
				<emphasis role="bold">Send request: </emphasis>
				This breakpoint is localized before sending a request to an active object.
				Send request is available for half bodies.
				The request is not added at request queue of the active object.
			      </para>
				<para>
				Disabled by default.
			      </para>
			    </listitem>
			</itemizedlist>

		</section>

		<section xml:id="ImmediateService"><info><title>Immediate service breakpoints</title></info>

			<para>
				The immediate service breakpoints are localized inside each immediate service threads.
				The functionality of this breakpoints is the same as the standard breakpoints.
				For one object, there may be several immediate services blocked at the same time.
		There are 2 points for this specific service:
			</para>

			<itemizedlist>
		    <listitem>
		      <para>
			<emphasis role="bold">New immediate service: </emphasis>
						This breakpoint is localized before the beginning of the immediate service.
		      </para>
			<para>
			Enabled by default.
		      </para>
		    </listitem>

		    <listitem>
		      <para>
			<emphasis role="bold">End immediate service: </emphasis>
			This breakpoint is localized after the ending of the immediate service.
		      </para>
			<para>
			Enabled by default.
		      </para>
		    </listitem>
			</itemizedlist>

		</section>

		<section xml:id="Controls"><info><title>Step by step controls</title></info>

			<section xml:id="EnableDisableNextStep"><info><title>Enable / Disable / NextStep</title></info>

				<para>
					 The main functionality of the step by step mode is to stop and restart the active object (enable/disable button).
					 This functionality is available for one object or each objects in a node, a jvm, a host, a world (all object visible on IC2D monitoring).
					 When an active object is stopped it is possible to restart it until the next breakpoint enable (next step button).
				</para>

				<figure xml:id="PauseFigure"><info><title>pause</title></info>
		       <mediaobject>
		         <imageobject>
		             <imagedata scalefit="1" width="100%" contentdepth="100%" fileref="debug/stepByStep/images/pause.png" format="PNG"/>
		         </imageobject>
		       </mediaobject>
		    </figure>

			</section>


		  <section xml:id="Filters"><info><title>Filters</title></info>

			  <para>
				The filter tools allow to enable or disable some specific breakpoints.
				For example it is possible to enable New service and send request breakpoints, and disable the others.
			  </para>

				<figure xml:id="FiltersFigure"><info><title>filters</title></info>
		       <mediaobject>
		         <imageobject>
		             <imagedata scalefit="1" width="100%" contentdepth="100%" fileref="debug/stepByStep/images/filters.png" format="PNG"/>
		         </imageobject>
		       </mediaobject>
		    </figure>

			</section>

		<section xml:id="SlowMotion"><info><title>Slow motion</title></info>

			  <para>
				This tools enable a delay in the breakpoints.
				When the active object stop in a breakpoint, it performs a next step automatically after the delay.
			  </para>

				<figure xml:id="SlowMotionFigure"><info><title>slow motion</title></info>
		       <mediaobject>
		         <imageobject>
		             <imagedata scalefit="1" width="100%" contentdepth="100%" fileref="debug/stepByStep/images/slowmotion.png" format="PNG"/>
		         </imageobject>
		       </mediaobject>
		    </figure>

			</section>

		<section xml:id="Informations"><info><title>Informations</title></info>

			  <para>
				  This view displays some informations of an active object when it is selected.
				  This active object can be restarted with this view if it is blocked in a breakpoint.
			  </para>
			  <para>
					It possible to choose the blocked service to restart (immediate or not).
			  </para>

			  <figure xml:id="InformationFigure"><info><title>information</title></info>
		       <mediaobject>
		         <imageobject>
		             <imagedata scalefit="1" width="100%" contentdepth="100%" fileref="debug/stepByStep/images/information.png" format="PNG"/>
		         </imageobject>
		       </mediaobject>
		    </figure>

			</section>

		</section>

	</section>

</chapter>