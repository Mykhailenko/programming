<?xml version="1.0" encoding="UTF-8"?>
<componentsDescriptor xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../core/component/xml/components.xsd">
	
	<!-- DEFINITION OF THE COMPONENT TYPES -->
	<types>
		<component-type name="RootType">
			<provides>
				<interface name="m" signature="org.objectweb.proactive.examples.components.helloworld.Main"/>
			</provides>
		</component-type>

<!-- extends is not supported yet -->
		<component-type name="ClientType">
			<provides>
				<interface name="m" signature="org.objectweb.proactive.examples.components.helloworld.Main"/>
			</provides>
			<requires>
				<interface name="s" signature="org.objectweb.proactive.examples.components.helloworld.Service"/>
			</requires>
		</component-type>
		
		<component-type name="ServerType">
			<provides>
				<interface name="s" signature="org.objectweb.proactive.examples.components.helloworld.Service"/>
			</provides>
		</component-type>
	
	</types>
	
	<!-- DEFINITION OF THE COMPONENT INSTANCES -->
	<!-- For conveniency (to avoid multiple files), both configurations (with or without wrappers) are 
		defined here, and therefore instantiated and deployed when parsing the file.-->

	<components>
	<!-- standard client server example -->
		<composite-component name="ClientServer" type="RootType" virtualNode="null">
			<components>
				<primitive-component name="client" type="ClientType" implementation="org.objectweb.proactive.examples.components.helloworld.ClientImpl" virtualNode="VN1"/>
				<primitive-component name="server" type="ServerType" implementation="org.objectweb.proactive.examples.components.helloworld.ServerImpl" virtualNode="VN2"/>
			</components>
			<bindings>
				<binding client="ClientServer.m" server="client.m"/>
				<binding client="client.s" server="server.s"/>
			</bindings>
		</composite-component>
	
	<!-- client server examples with wrapped client and server -->
		<composite-component name="ClientServerWrapper" type="RootType">
			<components>
				<composite-component name="clientWrapper" type="ClientType">
					<components>
						<primitive-component name="wrapped-client" type="ClientType" implementation="org.objectweb.proactive.examples.components.helloworld.ClientImpl" virtualNode="VN1"/>
					</components>
					<bindings>
						<binding client="clientWrapper.m" server="wrapped-client.m"/>
						<binding client="wrapped-client.s" server="clientWrapper.s"/>
					</bindings>
				</composite-component>
				<composite-component name="serverWrapper" type="ServerType">
					<components>
						<primitive-component name="wrapped-server" type="ServerType" implementation="org.objectweb.proactive.examples.components.helloworld.ServerImpl" virtualNode="VN2"/>
					</components>
					<bindings>
						<binding client="serverWrapper.s" server="wrapped-server.s"/>
					</bindings>
				</composite-component>
			</components>
			<bindings>
				<binding client="ClientServerWrapper.m" server="clientWrapper.m"/>
				<binding client="clientWrapper.s" server="serverWrapper.s"/>
			</bindings>
		</composite-component>
	</components>
</componentsDescriptor>
